port form.selecFirstImage

rule rEn system.language == "en" and count < 0
rule rPt system.language == "pt" and count > 0

switch form

   -----------------
   -- Separa rule em uma parte diferente do documento
   switchPort spAudio
      map rEn audioEn.trechoEn
      map rPt audioPt.trechoPt
   end
   -----------------
   -- Perde reuso da rule
   -- Qual Ã© a rule de audioEn? Tem que procurar o case que referencia
   switchPort spAudio audioEn.trechoEn audioPt.trechoPt

   -- Junta o bindRule e o rule em um so elemento
   case system.language == "en" and count < 0: audioEn
   case system.language == "pt" and count > 0: audioPt
   -----------------

   -----------------
   default: audioPt

   media audioEn
      src: "media/audioEn.mp3"
      area trechoEn
         begin: "20s"
         end: "50s"
      end
   end

   media audioPt
      src:"media/audioPt.mp3"
      area trechoPt 
         begin: "20s"
         end: "50s"
      end
   end

end

onBegin media1 do
   start form.___ end
end
